def find_students_by_age(age)
  students = []
  File.open('students.txt', 'r') do |file|
    file.each_line do |line|
      name, surname, student_age = line.split(' ')
      if student_age.to_i == age
        students << "#{name} #{surname} #{student_age}"
      end
    end
  end
  File.open('results.txt', 'a') do |file|
    students.each do |student|
      file.puts(student)
    end
  end
end

age = nil
while age != '-1'
  print 'Введите возраст (-1 для выхода): '
  age = gets.chomp
  find_students_by_age(age.to_i)
end

File.open('results.txt', 'r') do |file|
  file.each_line do |line|
    puts line
  end
end
